# üöÄ EduMate Deployment Guide

This guide will walk you through deploying EduMate to production using free-tier services.

## üìã Deployment Stack

- **Backend**: Render (Free Tier)
- **Frontend**: Vercel (Free Tier)
- **MySQL**: Railway (Free $5 credit/month) or PlanetScale (Free Tier)
- **MongoDB**: MongoDB Atlas (Free 512MB)

## üéØ Prerequisites

1. GitHub account
2. Render account (https://render.com)
3. Vercel account (https://vercel.com)
4. Railway account (https://railway.app) or PlanetScale account
5. MongoDB Atlas account (https://www.mongodb.com/cloud/atlas)

---

## Step 1: Set Up Databases

### A. MongoDB Atlas Setup (10 minutes)

1. **Go to MongoDB Atlas**: https://www.mongodb.com/cloud/atlas/register
2. **Create Account** and sign in
3. **Create a Free Cluster**:
   - Click "Build a Database"
   - Select "FREE" (M0 Sandbox)
   - Choose a cloud provider and region (closest to you)
   - Cluster Name: `edumate-cluster`
   - Click "Create"

4. **Create Database User**:
   - Go to "Database Access" in left sidebar
   - Click "Add New Database User"
   - Authentication Method: Password
   - Username: `edumate_user`
   - Password: Generate a secure password (save it!)
   - Database User Privileges: "Read and write to any database"
   - Click "Add User"

5. **Configure Network Access**:
   - Go to "Network Access" in left sidebar
   - Click "Add IP Address"
   - Click "Allow Access from Anywhere" (0.0.0.0/0)
   - Click "Confirm"

6. **Get Connection String**:
   - Go to "Database" in left sidebar
   - Click "Connect" on your cluster
   - Select "Connect your application"
   - Copy the connection string (looks like):
     ```
     mongodb+srv://edumate_user:<password>@edumate-cluster.xxxxx.mongodb.net/edumate_mongo?retryWrites=true&w=majority
     ```
   - Replace `<password>` with your actual password
   - Save this connection string!

### B. MySQL Setup with Railway (15 minutes)

1. **Go to Railway**: https://railway.app
2. **Sign in with GitHub**
3. **Create New Project**:
   - Click "New Project"
   - Select "Provision MySQL"
   - Wait for database to provision

4. **Get MySQL Connection Details**:
   - Click on the MySQL service
   - Go to "Connect" tab
   - You'll see connection details:
     ```
     Host: containers-us-west-xxx.railway.app
     Port: 7318
     Database: railway
     Username: root
     Password: <auto-generated>
     ```
   - Save these details!

5. **Create the Connection String**:
   ```
   jdbc:mysql://<MYSQL_HOST>:<PORT>/<DATABASE>?useSSL=false&serverTimezone=UTC
   ```
   Example:
   ```
   jdbc:mysql://containers-us-west-123.railway.app:7318/railway?useSSL=false&serverTimezone=UTC
   ```

---

## Step 2: Prepare GitHub Repository

### A. Push Your Code to GitHub

1. **Open PowerShell in project directory**:
   ```powershell
   cd "C:\Users\sanja\Downloads\EduMate-main (1)\EduMate-main"
   ```

2. **Initialize Git** (if not already done):
   ```powershell
   git init
   git add .
   git commit -m "Initial commit - EduMate project"
   ```

3. **Create GitHub Repository**:
   - Go to https://github.com/new
   - Repository name: `EduMate`
   - Description: "AI-Powered Learning Platform"
   - Public or Private (your choice)
   - Don't initialize with README (you already have one)
   - Click "Create repository"

4. **Push to GitHub**:
   ```powershell
   git remote add origin https://github.com/YOUR_USERNAME/EduMate.git
   git branch -M main
   git push -u origin main
   ```

---

## Step 3: Deploy Backend to Render

### A. Create Web Service

1. **Go to Render Dashboard**: https://dashboard.render.com
2. **Click "New +" ‚Üí "Web Service"**
3. **Connect GitHub Repository**:
   - Click "Connect account" if not connected
   - Select your `EduMate` repository
   - Click "Connect"

### B. Configure Service

Fill in the following:

**Basic Settings**:
- **Name**: `edumate-backend`
- **Region**: Choose closest to you
- **Branch**: `main`
- **Root Directory**: `Backend`
- **Runtime**: `Java`
- **Build Command**: `mvn clean package -DskipTests`
- **Start Command**: `java -Dspring.profiles.active=prod -jar target/backend-0.0.1-SNAPSHOT.jar`

**Instance Type**:
- Select "Free"

### C. Add Environment Variables

Click "Advanced" ‚Üí "Add Environment Variable" for each:

```
PORT=8080
SPRING_PROFILES_ACTIVE=prod

# MySQL Configuration (from Railway)
DATABASE_URL=jdbc:mysql://your-mysql-host:port/railway?useSSL=false&serverTimezone=UTC
DB_USERNAME=root
DB_PASSWORD=your-mysql-password

# MongoDB Configuration (from MongoDB Atlas)
MONGODB_URI=mongodb+srv://edumate_user:password@cluster.mongodb.net/edumate_mongo?retryWrites=true&w=majority

# JWT Secret (generate a random 64-character string)
JWT_SECRET=your-super-secret-jwt-key-at-least-64-characters-long-random-string

# Gemini API Keys (comma-separated)
GEMINI_API_KEYS=AIzaSyAtRJvydFU-UZUDnK3Eq3Zx5WE_XKax8Z4,AIzaSyAQT5usx8_0dOvg68fFjFxrIjPCXBQ9Gmw,AIzaSyDu-C7YYqZ8oZsyXOi5S8qEAG5kECm_qJk

# CORS - Leave empty for now, update after frontend deployment
FRONTEND_URL=*
```

**To generate a strong JWT secret**, run in PowerShell:
```powershell
-join ((65..90) + (97..122) + (48..57) | Get-Random -Count 64 | ForEach-Object {[char]$_})
```

### D. Deploy

1. Click "Create Web Service"
2. Wait for build and deployment (10-15 minutes)
3. Once deployed, copy your backend URL (e.g., `https://edumate-backend.onrender.com`)

---

## Step 4: Deploy Frontend to Vercel

### A. Create Production Environment File

1. **Create `.env.production` in Frontend folder**:
   ```
   VITE_API_URL=https://your-backend-url.onrender.com/api
   ```
   Replace with your actual Render backend URL

2. **Commit and push changes**:
   ```powershell
   cd "C:\Users\sanja\Downloads\EduMate-main (1)\EduMate-main"
   git add .
   git commit -m "Add production configuration"
   git push
   ```

### B. Deploy to Vercel

1. **Go to Vercel**: https://vercel.com/new
2. **Import Git Repository**:
   - Click "Import Git Repository"
   - Select your `EduMate` repository
   - Click "Import"

3. **Configure Project**:
   - **Project Name**: `edumate-frontend`
   - **Framework Preset**: Vite
   - **Root Directory**: Click "Edit" ‚Üí Select `Frontend`
   - **Build Command**: `npm run build`
   - **Output Directory**: `dist`

4. **Add Environment Variables**:
   - Click "Environment Variables"
   - Add:
     ```
     VITE_API_URL=https://your-backend-url.onrender.com/api
     ```

5. **Click "Deploy"**
6. Wait for deployment (2-3 minutes)
7. Copy your frontend URL (e.g., `https://edumate-frontend.vercel.app`)

---

## Step 5: Update CORS Configuration

1. **Go back to Render Dashboard**
2. **Select your backend service** (`edumate-backend`)
3. **Go to "Environment"**
4. **Update `FRONTEND_URL` variable**:
   ```
   FRONTEND_URL=https://your-frontend-url.vercel.app
   ```
5. Click "Save Changes"
6. Service will automatically redeploy

---

## Step 6: Test Your Deployment

1. **Open your frontend URL** in browser
2. **Create an account**:
   - Click "Register"
   - Fill in details
   - Click "Create Account"
3. **Login** with your credentials
4. **Test features**:
   - ‚úÖ Dashboard loads
   - ‚úÖ Create a project
   - ‚úÖ Upload a note file
   - ‚úÖ Generate summary (tests AI integration)
   - ‚úÖ Generate MCQs
   - ‚úÖ Generate flashcards
   - ‚úÖ Logout and login again

---

## üéâ Deployment Complete!

Your application is now live at:
- **Frontend**: https://your-frontend-url.vercel.app
- **Backend**: https://your-backend-url.onrender.com

---

## üìä Monitor Your Application

### Render Logs
- Go to Render Dashboard ‚Üí Your Service ‚Üí "Logs"
- Check for errors or warnings

### Vercel Logs
- Go to Vercel Dashboard ‚Üí Your Project ‚Üí "Deployments"
- Click on latest deployment ‚Üí "View Function Logs"

---

## üîß Troubleshooting

### Backend Won't Start
1. Check Render logs for errors
2. Verify all environment variables are set correctly
3. Ensure database connections are working
4. Check that MySQL and MongoDB are accessible

### Frontend Can't Connect to Backend
1. Verify `VITE_API_URL` is correct in Vercel
2. Check CORS configuration in Render
3. Ensure backend is running (check Render dashboard)

### Database Connection Errors
1. **MySQL**: Verify Railway database is active
2. **MongoDB**: Check Atlas cluster is running and IP whitelist includes 0.0.0.0/0
3. Check connection strings don't have typos

### AI Features Not Working
1. Verify Gemini API keys are valid
2. Check if you've exceeded API quotas
3. Look at backend logs for API errors

---

## üí∞ Cost Monitoring

All services are on free tiers:
- **Render**: Free tier with some limitations (spins down after inactivity)
- **Vercel**: 100 GB bandwidth/month free
- **Railway**: $5 free credit/month
- **MongoDB Atlas**: 512MB storage free

**Note**: Free tier services may "sleep" after 15 minutes of inactivity. First request after sleep may take 30-60 seconds.

---

## üîê Security Notes

1. **Rotate API Keys**: Consider rotating your Gemini API keys after deployment
2. **JWT Secret**: Use the generated random string, never commit to git
3. **Database Credentials**: Keep credentials secure, never commit to repository
4. **Environment Variables**: Always use environment variables for secrets

---

## üì± Share Your Project

Your live URLs:
- **Live Demo**: https://your-frontend-url.vercel.app
- **GitHub Repo**: https://github.com/your-username/EduMate
- **API Docs**: https://your-backend-url.onrender.com/swagger-ui.html (if configured)

Add these to your resume and LinkedIn! üéØ

---

## üöÄ Next Steps

1. **Custom Domain** (optional):
   - Buy a domain from Namecheap, GoDaddy, etc.
   - Add custom domain in Vercel settings
   
2. **Monitoring** (optional):
   - Set up UptimeRobot for uptime monitoring
   - Configure error tracking with Sentry

3. **Analytics** (optional):
   - Add Google Analytics to frontend
   - Track user behavior

4. **CI/CD**:
   - Already configured! Push to GitHub = auto-deploy

---

## üìû Support

If you encounter issues:
1. Check this guide's troubleshooting section
2. Review service logs (Render, Vercel)
3. Verify all environment variables
4. Check database connectivity

**Good luck with your deployment! üéâ**

